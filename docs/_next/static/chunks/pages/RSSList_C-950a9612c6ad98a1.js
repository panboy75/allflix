(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{984:(t,e,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/RSSList_C",function(){return l(5749)}])},5749:(t,e,l)=>{"use strict";l.r(e),l.d(e,{default:()=>s});var n=l(4848),a=l(9965),r=l.n(a),o=l(6540),i=l(2448);let s=t=>{let{items:e,command:l,OnPlayClicked:a,OnPlaySerialClicked:s}=t,[u,c]=(0,o.useState)([]),[g,d]=(0,o.useState)(""),[m,x]=(0,o.useState)(null),p="",b=0;null==e||e.map(t=>p=t.rss),null==e||e.map(t=>b=t.count?t.count:0);let f=p;(0,o.useEffect)(()=>{(async()=>{try{var t,e,l,n,a,r,o;let s;let u=await fetch(f);if(!u.ok)throw Error("HTTP error! status: ".concat(u.status));let g=await u.text(),m=new DOMParser().parseFromString(g,"application/xml"),x=m.getElementsByTagName("image"),p=(null===(e=x[0])||void 0===e?void 0:null===(t=e.getElementsByTagName("url")[0])||void 0===t?void 0:t.textContent)||"";d(p),console.log("image_url = ",p);let h=m.getElementsByTagName("item"),S=[];s=0===b?h.length:h.length<=b?h.length:b,console.log("nCount = ",s);for(let t=0;t<s;t++){let e=(null===(l=h[t].getElementsByTagName("title")[0])||void 0===l?void 0:l.textContent)||"",s=(null===(n=h[t].getElementsByTagName("link")[0])||void 0===n?void 0:n.textContent)||"",u=(null===(a=h[t].getElementsByTagName("pubDate")[0])||void 0===a?void 0:a.textContent)||"",c=new Date(u),g=(0,i.getDateString)(c),d=(null===(r=h[t].getElementsByTagName("itunes:duration")[0])||void 0===r?void 0:r.textContent)||"",m=0;if(d.includes(":")){let t=Number(d.substring(0,2)),e=Number(d.substring(3,5)),l=Number(d.substring(6,8));m=3600*t+60*e+l}else m=Number(d);let x=(null===(o=h[t].getElementsByTagName("enclosure")[0])||void 0===o?void 0:o.getAttribute("url"))||"";S.push({title:e,link:s,pubDate:g,duration:m,mp3:x})}c(S)}catch(t){console.error("Error fetching RSS feed:",t)}})()},[]),(0,o.useEffect)(()=>{if(l&&console.log("[podcast01.tsx] command = ",l),(null==l?void 0:l.action)=="next"){console.log("[podcast01.tsx] command action = next, mp3_url = ",l.mp3_url);let t=v();t&&S(t)}},[l]);let h=t=>{console.log("[podcast01.tsx] onPlayClicked, mp3_url = ",t.mp3);let e={title:t.title,mp3_url:(null==t?void 0:t.mp3)||"",image_url:g,duration:t.duration||0};null==a||a(e)},S=t=>{console.log("[podcast01.tsx] onPlayClicked, mp3_url = ",t.mp3);let e={title:t.title,mp3_url:(null==t?void 0:t.mp3)||"",image_url:g,duration:t.duration||0};null==s||s(e),x(t)},y=(t,e)=>{if(!e)return"text-center text-xl font-bold bg-blue-100";let l=new Date(e.pubDate),n=new Date(t.pubDate);return n.getTime()===l.getTime()?"text-center text-xl font-bold text-blue-900 bg-blue-400":n.getTime()<l.getTime()?"text-center text-xl font-bold text-gray-400 text-blue-900 bg-blue-100":"text-center text-xl font-bold bg-blue-200"},v=()=>{if(!m||0===u.length)return null;let t=u.findIndex(t=>t.title===m.title);return t<0||u.length-1<t?null:0<=t-1?u[t-1]:null};return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"w-full text-2xl font-bold flex items-center bg-black text-gray-100",children:[(0,n.jsx)("img",{src:g,style:{verticalAlign:"middle",height:"100px"},alt:"logo"}),"\xa0책플릭스 몰아보기!!"]}),null==u?void 0:u.map((t,e)=>(0,n.jsx)("table",{className:"w-full border border-gray-300 mb-1",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{rowSpan:2,width:60,className:y(t,m),children:t.title.trim().substring(0,t.title.indexOf(".")-1)}),(0,n.jsx)("td",{className:"p-1 bg-gray-100",children:(0,n.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-xl font-bold",children:t.title.substring(t.title.indexOf(".")+1).trim()})})]}),(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:2,className:"text-gray-600 p-1 bg-gray-100",children:(0,n.jsxs)("div",{className:"flex",children:[t.pubDate," | ",(0,i.getTimeString)(t.duration?t.duration:0),"\xa0 ",(0,n.jsx)(r(),{onClick:()=>h(t),src:"".concat("/allflix","/images/play.svg"),width:30,style:{verticalAlign:"middle",cursor:"pointer"},alt:"듣기",height:50}),(0,n.jsx)("button",{onClick:()=>S(t),className:"ml-2 text-black hover:text-blue-800 bg-blue-300 p-1 rounded",children:"이어듣기"})]})})})]})},e))]})}},2448:(t,e,l)=>{"use strict";l.r(e),l.d(e,{EPlaymode:()=>n,default:()=>o,getDateString:()=>a,getTimeString:()=>r});var n=function(t){return t[t.pmNotPlaying=0]="pmNotPlaying",t[t.pmPlayOne=1]="pmPlayOne",t[t.pmPlayList=2]="pmPlayList",t[t.pmPlaySerial=3]="pmPlaySerial",t}({});let a=t=>{let e=t.getFullYear(),l=t.getMonth()+1,n=t.getDate(),a=t.getHours(),r=t.getMinutes(),o=t.getDay();return"".concat(e,".").concat(l.toString().padStart(2,"0"),".").concat(n.toString().padStart(2,"0"),"(").concat(["일","월","화","수","목","금","토"][o],") ").concat(a.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},r=t=>{let e=Math.floor(t/3600),l=Math.floor(t%3600/60),n=t%60;return 1<=e?"".concat(e.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):"".concat(l.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))};function o(){return null}}},t=>{var e=e=>t(t.s=e);t.O(0,[965,636,593,792],()=>e(984)),_N_E=t.O()}]);